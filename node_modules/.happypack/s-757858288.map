{"version":3,"sources":["client/components/Header/Header.js"],"names":["Header","plugin","require","HeaderMenu","user","path","name","icon","adminFlag","solution","emitHook","MenuUser","map","item","key","isAdmin","props","role","uid","logout","tipFollow","tipAdd","tipDoc","propTypes","PropTypes","string","msg","number","visitorId","relieveLink","func","ToolUser","imageUrl","groupList","studyTip","study","fontSize","array","bool","any","HeaderCom","state","userName","login","isLogin","loginTypeAction","logoutActions","checkLoginState","changeMenuItem","withRouter","linkTo","e","info","preventDefault","then","res","payload","data","errcode","history","push","success","error","errmsg","catch","err","handleLogin","handleReg","console","log","render","position","zIndex","Component","router","object","location"],"mappings":"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","file":"Header.js","sourceRoot":"/Users/lee/Project/analysys/yapi/vendors","sourcesContent":["import './Header.scss';\nimport React, { PureComponent as Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Icon, Layout, Menu, Dropdown, message, Tooltip, Popover, Tag } from 'antd';\nimport { checkLoginState, logoutActions, loginTypeAction } from '../../reducer/modules/user';\nimport { changeMenuItem } from '../../reducer/modules/menu';\nimport { withRouter } from 'react-router';\nimport Srch from './Search/Search';\nconst { Header } = Layout;\nimport LogoSVG from '../LogoSVG/index.js';\nimport Breadcrumb from '../Breadcrumb/Breadcrumb.js';\nimport GuideBtns from '../GuideBtns/GuideBtns.js';\nconst plugin = require('client/plugin.js');\n\nlet HeaderMenu = {\n  user: {\n    path: '/user/profile',\n    name: '个人中心',\n    icon: 'user',\n    adminFlag: false\n  },\n  solution: {\n    path: '/user/list',\n    name: '用户管理',\n    icon: 'solution',\n    adminFlag: true\n  }\n};\n\nplugin.emitHook('header_menu', HeaderMenu);\n\nconst MenuUser = props => (\n  <Menu theme=\"dark\" className=\"user-menu\">\n    {\n      Object.keys(HeaderMenu).map(key => {\n        let item = HeaderMenu[key];\n        const isAdmin = props.role === 'admin';\n        if (item.adminFlag && !isAdmin) {\n          return null;\n        }\n        return (\n          <Menu.Item key={key}>\n            {item.name === '个人中心' ? (\n              <Link to={item.path + `/${props.uid}`}>\n                <Icon type={item.icon} />\n                {item.name}\n              </Link>\n            ) : (\n              <Link to={item.path}>\n                <Icon type={item.icon} />\n                {item.name}\n              </Link>\n            )}\n          </Menu.Item>\n        );\n      })\n    }\n    <Menu.Item key=\"9\">\n      <a onClick={props.logout}>\n        <Icon type=\"logout\" />退出\n      </a>\n    </Menu.Item>\n  </Menu>\n);\n\nconst tipFollow = (\n  <div className=\"title-container\">\n    <h3 className=\"title\">\n      <Icon type=\"star\" /> 关注\n    </h3>\n    <p>这里是你的专属收藏夹，便于你找到自己的项目</p>\n  </div>\n);\nconst tipAdd = (\n  <div className=\"title-container\">\n    <h3 className=\"title\">\n      <Icon type=\"plus-circle\" /> 新建项目\n    </h3>\n    <p>在任何页面都可以快速新建项目</p>\n  </div>\n);\nconst tipDoc = (\n  <div className=\"title-container\">\n    <h3 className=\"title\">\n      使用文档 <Tag color=\"orange\">推荐!</Tag>\n    </h3>\n    <p>\n      初次使用 YApi，强烈建议你阅读{' '}\n      <a target=\"_blank\" href=\"https://hellosean1025.github.io/yapi/\" rel=\"noopener noreferrer\">\n        使用文档\n      </a>\n      ，我们为你提供了通俗易懂的快速入门教程，更有详细的使用说明，欢迎阅读！{' '}\n    </p>\n  </div>\n);\n\nMenuUser.propTypes = {\n  user: PropTypes.string,\n  msg: PropTypes.string,\n  role: PropTypes.string,\n  uid: PropTypes.number,\n  visitorId: PropTypes.number,\n  relieveLink: PropTypes.func,\n  logout: PropTypes.func\n};\n\nconst ToolUser = props => {\n  let imageUrl = props.imageUrl ? props.imageUrl : `/api/user/avatar?uid=${props.uid}`;\n  return (\n    <ul>\n      <li className=\"toolbar-li item-search\">\n        <Srch groupList={props.groupList} />\n      </li>\n      {\n        props.uid !== props.visitorId ? (\n          <Popover\n            overlayClassName=\"popover-index\"\n            content={<GuideBtns />}\n            title={tipFollow}\n            placement=\"bottomRight\"\n            arrowPointAtCenter\n            visible={props.studyTip === 1 && !props.study}\n          >\n            <Tooltip placement=\"bottom\" title={'我的关注'}>\n              <li className=\"toolbar-li\">\n                <Link to=\"/follow\">\n                  <Icon className=\"dropdown-link\" style={{ fontSize: 16 }} type=\"star\" />\n                </Link>\n              </li>\n            </Tooltip>\n          </Popover>\n        ) : (\n          ''\n        )\n      }\n      {\n        props.uid !== props.visitorId ? (\n          <Popover\n            overlayClassName=\"popover-index\"\n            content={<GuideBtns />}\n            title={tipAdd}\n            placement=\"bottomRight\"\n            arrowPointAtCenter\n            visible={props.studyTip === 2 && !props.study}\n          >\n            <Tooltip placement=\"bottom\" title={'新建项目'}>\n              <li className=\"toolbar-li\">\n                <Link to=\"/add-project\">\n                  <Icon className=\"dropdown-link\" style={{ fontSize: 16 }} type=\"plus-circle\" />\n                </Link>\n              </li>\n            </Tooltip>\n          </Popover>\n        ) : (\n          ''\n        )\n      }\n      <Popover\n        overlayClassName=\"popover-index\"\n        content={<GuideBtns isLast={true} />}\n        title={tipDoc}\n        placement=\"bottomRight\"\n        arrowPointAtCenter\n        visible={props.studyTip === 3 && !props.study}\n      >\n        <Tooltip placement=\"bottom\" title={'使用文档'}>\n          <li className=\"toolbar-li\">\n            <a target=\"_blank\" href=\"https://hellosean1025.github.io/yapi\" rel=\"noopener noreferrer\">\n              <Icon className=\"dropdown-link\" style={{ fontSize: 16 }} type=\"question-circle\" />\n            </a>\n          </li>\n        </Tooltip>\n      </Popover>\n      {\n        props.uid !== props.visitorId ? (\n          <li className=\"toolbar-li\">\n            <Dropdown\n              placement=\"bottomRight\"\n              trigger={['click']}\n              overlay={\n                <MenuUser\n                  user={props.user}\n                  msg={props.msg}\n                  uid={props.uid}\n                  visitorId={props.visitorId}\n                  role={props.role}\n                  relieveLink={props.relieveLink}\n                  logout={props.logout}\n                />\n              }\n            >\n              <a className=\"dropdown-link\">\n                <span className=\"avatar-image\">\n                  <img src={imageUrl} />\n                </span>\n                {/*props.imageUrl? <Avatar src={props.imageUrl} />: <Avatar src={`/api/user/avatar?uid=${props.uid}`} />*/}\n                <span className=\"name\">\n                  <Icon type=\"down\" />\n                </span>\n              </a>\n            </Dropdown>\n          </li>\n        ) : (\n          ''\n        )\n      }\n    </ul>\n  );\n};\nToolUser.propTypes = {\n  user: PropTypes.string,\n  msg: PropTypes.string,\n  role: PropTypes.string,\n  uid: PropTypes.number,\n  visitorId: PropTypes.number,\n  relieveLink: PropTypes.func,\n  logout: PropTypes.func,\n  groupList: PropTypes.array,\n  studyTip: PropTypes.number,\n  study: PropTypes.bool,\n  imageUrl: PropTypes.any\n};\n\n@connect(\n  state => {\n    return {\n      user: state.user.userName,\n      visitorId: state.user.visitorId,\n      uid: state.user.uid,\n      msg: null,\n      role: state.user.role,\n      login: state.user.isLogin,\n      studyTip: state.user.studyTip,\n      study: state.user.study,\n      imageUrl: state.user.imageUrl\n    };\n  },\n  {\n    loginTypeAction,\n    logoutActions,\n    checkLoginState,\n    changeMenuItem\n  }\n)\n@withRouter\nexport default class HeaderCom extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static propTypes = {\n    router: PropTypes.object,\n    user: PropTypes.string,\n    msg: PropTypes.string,\n    uid: PropTypes.number,\n    visitorId: PropTypes.number,\n    role: PropTypes.string,\n    login: PropTypes.bool,\n    relieveLink: PropTypes.func,\n    logoutActions: PropTypes.func,\n    checkLoginState: PropTypes.func,\n    loginTypeAction: PropTypes.func,\n    changeMenuItem: PropTypes.func,\n    history: PropTypes.object,\n    location: PropTypes.object,\n    study: PropTypes.bool,\n    studyTip: PropTypes.number,\n    imageUrl: PropTypes.any\n  };\n  linkTo = e => {\n    if (e.key != '/doc') {\n      this.props.changeMenuItem(e.key);\n      if (!this.props.login) {\n        message.info('请先登录', 1);\n      }\n    }\n  };\n  relieveLink = () => {\n    this.props.changeMenuItem('');\n  };\n  logout = e => {\n    e.preventDefault();\n    this.props\n      .logoutActions()\n      .then(res => {\n        if (res.payload.data.errcode == 0) {\n          this.props.history.push('/');\n          this.props.changeMenuItem('/');\n          message.success('退出成功! ');\n        } else {\n          message.error(res.payload.data.errmsg);\n        }\n      })\n      .catch(err => {\n        message.error(err);\n      });\n  };\n  handleLogin = e => {\n    e.preventDefault();\n    this.props.loginTypeAction('1');\n  };\n  handleReg = e => {\n    e.preventDefault();\n    this.props.loginTypeAction('2');\n  };\n  checkLoginState = () => {\n    this.props.checkLoginState\n      .then(res => {\n        if (res.payload.data.errcode !== 0) {\n          this.props.history.push('/');\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    const { login, user, msg, uid, visitorId, role, studyTip, study, imageUrl } = this.props;\n    return (\n      <Header className=\"header-box m-header\">\n        <div className=\"content g-row\">\n          <Link onClick={this.relieveLink} to=\"/group\" className=\"logo\">\n            <div className=\"href\">\n              <span className=\"img\">\n                <LogoSVG length=\"32px\" />\n              </span>\n            </div>\n          </Link>\n          <Breadcrumb />\n          <div\n            className=\"user-toolbar\"\n            style={{ position: 'relative', zIndex: this.props.studyTip > 0 ? 3 : 1 }}\n          >\n            {login && uid !== visitorId ? (\n              <ToolUser\n                {...{ studyTip, study, user, msg, uid, visitorId, role, imageUrl }}\n                relieveLink={this.relieveLink}\n                logout={this.logout}\n              />\n            ) : (\n              ''\n            )}\n          </div>\n        </div>\n      </Header>\n    );\n  }\n}\n"]}