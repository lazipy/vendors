<import name="anu-page-wrapper" src="../../../components/PageWrapper/index.ux"></import>
<template>
    <anu-page-wrapper>
        <div style="display:flex;flex-direction:column;align-items:center;padding-top:25px;">
            <div>
                <image src="{{state.src}}" onload="dispatchEvent" onerror="dispatchEvent" data-load-uid="e94_24" data-beacon-uid="default" data-error-uid="e95_24"></image>
            </div>
            <div style="font-size: 32px;"><text style="color: #999;">当前状态：</text><text style="{{props['style5764'] }}">{{state.state}}</text></div>
            <list>
                <block for="(idx,mode) in state.modes">
                    <list-item type="{{'image' + idx}}">
                        <div style="font-size: 32px;">
                            <div style="color: #999;" onclick="dispatchEvent" data-click-uid="{{'e109_40_' + idx}}" data-beacon-uid="default"><text>使用</text><text>{{mode.mode}}</text></div>
                            <div><text>{{mode.text}}</text></div>
                        </div>
                    </list-item>
                </block>
            </list>
        </div>
    </anu-page-wrapper>
</template>
<script>
import React from "../../../ReactQuick.js";

function P() {
    this.state = {
        state: '正在加载',
        src: 'https://static.rolandreed.cn/images/articles/JavaScript-Coercion/JavaScript.jpg',
        mode: 'scaleToFill',
        modes: [{
            mode: 'scaleToFill',
            text: 'scaleToFill：不保持纵横比缩放图片，使图片完全适应'
        }, {
            mode: 'aspectFit',
            text: 'aspectFit：保持纵横比缩放图片，使图片的长边能完全显示出来'
        }, {
            mode: 'aspectFill',
            text: 'aspectFill：保持纵横比缩放图片，只保证图片的短边能完全显示出来'
        }, {
            mode: 'top',
            text: 'top：不缩放图片，只显示图片的顶部区域'
        }, {
            mode: 'bottom',
            text: 'bottom：不缩放图片，只显示图片的底部区域'
        }, {
            mode: 'center',
            text: 'center：不缩放图片，只显示图片的中间区域'
        }, {
            mode: 'left',
            text: 'left：不缩放图片，只显示图片的左边区域'
        }, {
            mode: 'right',
            text: 'right：不缩放图片，只显示图片的右边边区域'
        }, {
            mode: 'top left',
            text: 'top left：不缩放图片，只显示图片的左上边区域'
        }, {
            mode: 'top right',
            text: 'top right：不缩放图片，只显示图片的右上边区域'
        }, {
            mode: 'bottom left',
            text: 'bottom left：不缩放图片，只显示图片的左下边区域'
        }, {
            mode: 'bottom right',
            text: 'bottom right：不缩放图片，只显示图片的右下边区域'
        }]
    };
}

P = React.toClass(P, React.Component, {
    onError: function() {
        this.setState({
            state: '出错了',
            color: 'color:#F44336;'
        });
    },
    onLoad: function() {
        this.setState({
            state: '已加载',
            color: 'color:#4CAF50;'
        });
    },
    changeType: function(mode) {
        this.setState({
            mode
        });
    },
    render: function() {
        var h = React.createElement;
        return h("div", {
            style: "display:flex;flex-direction:column;align-items:center;padding-top:25px;"
        }, h("div", null, h("image", {
            src: this.state.src,
            onLoad: this.onLoad,
            onError: this.onError,
            "data-load-uid": "e94_24",
            "data-beacon-uid": "default",
            "data-error-uid": "e95_24"
        })), h("div", {
            style: "font-size: 32px;"
        }, h("text", {
            style: "color: #999;"
        }, "当前状态："), h("text", {
            style: React.toStyle(this.state.color, this.props, 'style5764')
        }, this.state.state)), h("list", null, this.state.modes.map(function(mode, idx) {
            return h("list-item", {
                type: 'image' + idx
            }, h("div", {
                style: "font-size: 32px;"
            }, h("div", {
                style: "color: #999;",
                onClick: this.changeType.bind(this, mode.mode),
                "data-click-uid": 'e109_40_' + idx,
                "data-beacon-uid": "default"
            }, "使用", mode.mode), h("div", null, mode.text)));
        }, this)));;
    },
    classUid: "c3950"
}, {});
P = React.registerPage(P, "pages/native/image/index");
export default P;
</script>
