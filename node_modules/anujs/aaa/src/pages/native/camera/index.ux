<import name="anu-page-wrapper" src="../../../components/PageWrapper/index.ux"></import>
<template>
    <anu-page-wrapper>
        <div style="display:flex;flex-direction:column;align-items:center;padding-top:25px;">
            <div>
                <div mode="{{state.mode}}"></div>
            </div>
            <div style="font-size: 32px;">
                <div onclick="dispatchEvent" data-click-uid="e38_28" data-beacon-uid="default"></div><text style="color: #999;">预览</text>
                <image src="{{state.src}}"></image>
            </div>
        </div>
    </anu-page-wrapper>
</template>
<script>
import React from "../../../ReactQuick.js";

function P() {
    this.state = {
        mode: 'normal',
        devicePosition: 'back',
        flash: 'auto',
        src: ''
    };
}

P = React.toClass(P, React.Component, {
    takePhoto: function() {
        const ctx = React.api.createCameraContext();
        ctx.takePhoto({
            quality: 'high',
            success: res => {
                this.setState({
                    src: res.tempImagePath
                });
            },
            error: function(err) {
                console.log(err);
            }
        });
    },
    render: function() {
        var h = React.createElement;
        return h("div", {
            style: "display:flex;flex-direction:column;align-items:center;padding-top:25px;"
        }, h("div", null, h("div", {
            mode: this.state.mode
        })), h("div", {
            style: "font-size: 32px;"
        }, h("div", {
            onClick: this.takePhoto,
            "data-click-uid": "e38_28",
            "data-beacon-uid": "default"
        }), h("text", {
            style: "color: #999;"
        }, "预览"), h("image", {
            src: this.state.src
        })));;
    },
    classUid: "c1192"
}, {});
P = React.registerPage(P, "pages/native/camera/index");
export default P;
</script>
