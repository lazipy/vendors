<import name="anu-page-wrapper" src="../../../components/PageWrapper/index.ux"></import>
<template>
    <anu-page-wrapper>
        <div class="anu-block">
            <div class="anu-item anu-block"><text class="anu-black-title">可以自动聚焦的input</text>
                <div class="weui-cell weui-cell_input"><input class="weui-input" auto-focus placeholder="将会获取焦点"></input></div>
            </div>
            <div class="anu-item anu-block"><text class="anu-black-title">控制最大输入长度的input</text>
                <div class="weui-cell weui-cell_input"><input class="weui-input" maxlength="10" placeholder="最大输入长度为10"></input></div>
            </div>
            <div class="anu-item anu-block"><text class="anu-black-title">实时获取输入值：{{state.inputValue}}</text>
                <div class="weui-cell weui-cell_input"><input class="weui-input" maxlength="10" onchange="dispatchEvent" placeholder="输入同步到view中" data-change-uid="e84_28" data-beacon-uid="default"></input></div>
            </div>
            <div class="anu-item anu-block"><text class="anu-black-title">控制输入的input</text>
                <div class="weui-cell weui-cell_input"><input class="weui-input" onchange="dispatchEvent" placeholder="连续的两个1会变成2" data-change-uid="e94_28" data-beacon-uid="default"></input></div>
            </div>
            <div class="anu-item anu-block"><text class="anu-black-title">控制键盘的input</text>
                <div class="weui-cell weui-cell_input"><input class="weui-input" onchange="dispatchEvent" placeholder="输入123自动收起键盘" data-change-uid="e104_28" data-beacon-uid="default"></input></div>
            </div>
            <div class="anu-item anu-block"><text class="anu-black-title">数字输入的input</text>
                <div class="weui-cell weui-cell_input"><input class="weui-input" type="number" placeholder="这是一个数字输入框"></input></div>
            </div>
            <div class="anu-item anu-block"><text class="anu-black-title">密码输入的input</text>
                <div class="weui-cell weui-cell_input"><input class="weui-input" type="password" placeholder="这是一个密码输入框"></input></div>
            </div>
            <div class="anu-item anu-block"><text class="anu-black-title">带小数点的input</text>
                <div class="weui-cell weui-cell_input"><input class="weui-input" type="digit" placeholder="带小数点的数字键盘"></input></div>
            </div>
            <div class="anu-item anu-block"><text class="anu-black-title">身份证输入的input</text>
                <div class="weui-cell weui-cell_input"><input class="weui-input" type="idcard" placeholder="身份证输入键盘"></input></div>
            </div>
            <div class="anu-item anu-block"><text class="anu-black-title">控制占位符颜色的input</text>
                <div class="weui-cell weui-cell_input"><input class="weui-input" placeholder="占位符字体是红色的"></input></div>
            </div>
        </div>
    </anu-page-wrapper>
</template>
<script>
import React from "../../../ReactQuick.js";

function P() {
    this.state = {
        focus: false,
        inputValue: ''
    };
}

P = React.toClass(P, React.Component, {
    bindButtonTap: function() {
        this.setState({
            focus: true
        });
    },
    bindKeyInput: function(e) {
        this.setState({
            inputValue: e.target.value.trim()
        });
    },
    bindReplaceInput: function(e) {
        console.log(e);
        var value = e.target.value;
        var pos = e.cursor;

        if (pos != -1) {
            var left = e.target.value.slice(0, pos);
            pos = left;
        }

        return {
            value: value.replace(/11/g, '2'),
            cursor: pos
        };
    },
    bindHideKeyboard: function() {},
    render: function() {
        var h = React.createElement;
        return h("div", {
            class: "anu-block"
        }, h("div", {
            class: "anu-item anu-block"
        }, h("text", {
            class: "anu-black-title"
        }, "可以自动聚焦的input"), h("div", {
            class: "weui-cell weui-cell_input"
        }, h("input", {
            class: "weui-input",
            "auto-focus": true,
            placeholder: "将会获取焦点"
        }))), h("div", {
            class: "anu-item anu-block"
        }, h("text", {
            class: "anu-black-title"
        }, "控制最大输入长度的input"), h("div", {
            class: "weui-cell weui-cell_input"
        }, h("input", {
            class: "weui-input",
            maxlength: "10",
            placeholder: "最大输入长度为10"
        }))), h("div", {
            class: "anu-item anu-block"
        }, h("text", {
            class: "anu-black-title"
        }, "实时获取输入值：", this.state.inputValue), h("div", {
            class: "weui-cell weui-cell_input"
        }, h("input", {
            class: "weui-input",
            maxlength: "10",
            onChange: this.bindKeyInput,
            placeholder: "输入同步到view中",
            "data-change-uid": "e84_28",
            "data-beacon-uid": "default"
        }))), h("div", {
            class: "anu-item anu-block"
        }, h("text", {
            class: "anu-black-title"
        }, "控制输入的input"), h("div", {
            class: "weui-cell weui-cell_input"
        }, h("input", {
            class: "weui-input",
            onChange: this.bindReplaceInput,
            placeholder: "连续的两个1会变成2",
            "data-change-uid": "e94_28",
            "data-beacon-uid": "default"
        }))), h("div", {
            class: "anu-item anu-block"
        }, h("text", {
            class: "anu-black-title"
        }, "控制键盘的input"), h("div", {
            class: "weui-cell weui-cell_input"
        }, h("input", {
            class: "weui-input",
            onChange: this.bindHideKeyboard,
            placeholder: "输入123自动收起键盘",
            "data-change-uid": "e104_28",
            "data-beacon-uid": "default"
        }))), h("div", {
            class: "anu-item anu-block"
        }, h("text", {
            class: "anu-black-title"
        }, "数字输入的input"), h("div", {
            class: "weui-cell weui-cell_input"
        }, h("input", {
            class: "weui-input",
            type: "number",
            placeholder: "这是一个数字输入框"
        }))), h("div", {
            class: "anu-item anu-block"
        }, h("text", {
            class: "anu-black-title"
        }, "密码输入的input"), h("div", {
            class: "weui-cell weui-cell_input"
        }, h("input", {
            class: "weui-input",
            type: "password",
            placeholder: "这是一个密码输入框"
        }))), h("div", {
            class: "anu-item anu-block"
        }, h("text", {
            class: "anu-black-title"
        }, "带小数点的input"), h("div", {
            class: "weui-cell weui-cell_input"
        }, h("input", {
            class: "weui-input",
            type: "digit",
            placeholder: "带小数点的数字键盘"
        }))), h("div", {
            class: "anu-item anu-block"
        }, h("text", {
            class: "anu-black-title"
        }, "身份证输入的input"), h("div", {
            class: "weui-cell weui-cell_input"
        }, h("input", {
            class: "weui-input",
            type: "idcard",
            placeholder: "身份证输入键盘"
        }))), h("div", {
            class: "anu-item anu-block"
        }, h("text", {
            class: "anu-black-title"
        }, "控制占位符颜色的input"), h("div", {
            class: "weui-cell weui-cell_input"
        }, h("input", {
            class: "weui-input",
            placeholder: "占位符字体是红色的"
        }))));;
    },
    classUid: "c5785"
}, {});
P.defaultProps = {
    name: 'zhangsan'
};
P = React.registerPage(P, "pages/native/input/index");
export default P;
</script>
<style>
@import '../../../assets/global.css';
</style>