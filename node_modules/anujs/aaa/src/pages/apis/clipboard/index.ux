<import name="anu-page-wrapper" src="../../../components/PageWrapper/index.ux"></import>
<template>
    <anu-page-wrapper>
        <div class="col">
            <div class="item"><text>{{state.data}}</text></div>
            <div class="item" onclick="dispatchEvent" data-click-uid="e35_26" data-beacon-uid="default"><text>复制</text></div>
            <div class="item" onclick="dispatchEvent" data-click-uid="e36_27" data-beacon-uid="default"><text>粘贴</text></div>
            <div class="item"><text>{{state.copy}}</text></div>
        </div>
    </anu-page-wrapper>
</template>
<script>
import React from "../../../ReactQuick.js";

function P() {
    this.state = {
        data: '1234455',
        copy: ''
    };
}

P = React.toClass(P, React.Component, {
    copy: function() {
        console.log('copy');
        React.api.setClipboardData({
            data: this.state.data
        });
    },
    paste: function() {
        console.log('paste');
        React.api.getClipboardData({
            success: res => {
                console.log('data', res);
                this.setState({
                    copy: res.data
                });
            }
        });
    },
    render: function() {
        var h = React.createElement;
        return h("div", {
            class: "col"
        }, h("div", {
            class: "item"
        }, this.state.data), h("div", {
            class: "item",
            onClick: this.copy,
            "data-click-uid": "e35_26",
            "data-beacon-uid": "default"
        }, "复制"), h("div", {
            class: "item",
            onClick: this.paste,
            "data-click-uid": "e36_27",
            "data-beacon-uid": "default"
        }, "粘贴"), h("div", {
            class: "item"
        }, this.state.copy));;
    },
    classUid: "c881"
}, {});
P = React.registerPage(P, "pages/apis/clipboard/index");
export default P;
</script>
<style>
.col {
  display: flex;
  flex-direction: column;
  flex: 1;
  width: 100%;
}

.item {
  border: 2px solid #eee;
  padding: 20px 40px;
}
.item text {
  display: flex;
  flex-direction: row;
  justify-content: center;
}
</style>