<import name="anu-page-wrapper" src="../../../components/PageWrapper/index.ux"></import>
<template>
    <anu-page-wrapper>
        <div class="scenic">
            <div class="input-wrapper">
                <div class="input"><input class="n-input" placeholder="请输入城市或景点" type="text"></input></div>
            </div>
            <div class="scenic-content col">
                <block for="(i1326,item) in state.data">
                    <div class="scenic-content-item col">
                        <div class="title-wrapper">
                            <div class="mark"></div><text class="title">{{item.title}}</text>
                        </div>
                        <block for="(index,item) in item.data">
                            <div onclick="dispatchEvent" class="scenic-item" data-click-uid="{{'e59_43_' + i1326 + '-' + index}}" data-beacon-uid="default">
                                <image class="left-content" src="{{item.url}}"></image>
                                <div class="right-content">
                                    <div class="col"><text class="scenic-name">{{item.name}}</text><text class="desc">{{item.desc}}</text><text class="comment">{{item.comment + '评论'}}</text></div>
                                    <div class="price-distance c-flex"><text class="price">{{'￥' + item.price}}</text><text class="distance">{{item.distance + 'km'}}</text></div>
                                </div>
                            </div>
                        </block>
                    </div>
                </block>
            </div>
        </div>
    </anu-page-wrapper>
</template>
<script>
import React from "../../../ReactQuick.js";

function P() {
    this.state = {
        data: []
    };
}

P = React.toClass(P, React.Component, {
    componentDidMount: function() {
        let that = this;
        React.api.request({
            url: 'http://yapi.demo.qunar.com/mock/11595/qunar/scenic',
            success: function(data) {
                that.setState({
                    data: data.data
                });
            }
        });
    },
    fun_tip: function() {
        React.api.showModal({
            title: '提示',
            content: '该部分仅展示，无具体功能!',
            showCancel: false
        });
    },
    render: function() {
        var h = React.createElement;
        return h("div", {
            class: "scenic"
        }, h("div", {
            class: "input-wrapper"
        }, h("div", {
            class: "input"
        }, h("input", {
            class: "n-input",
            placeholder: "请输入城市或景点",
            type: "text"
        }))), h("div", {
            class: "scenic-content col"
        }, this.state.data.map(function(item, i1326) {
            return h("div", {
                class: "scenic-content-item col"
            }, h("div", {
                class: "title-wrapper"
            }, h("div", {
                class: "mark"
            }), h("text", {
                class: "title"
            }, item.title)), item.data.map(function(item, index) {
                return h("div", {
                    onClick: this.fun_tip.bind(this),
                    class: "scenic-item",
                    key: index,
                    "data-click-uid": 'e59_43_' + i1326 + '-' + index,
                    "data-beacon-uid": "default"
                }, h("image", {
                    class: "left-content",
                    src: item.url
                }), h("div", {
                    class: "right-content"
                }, h("div", {
                    class: "col"
                }, h("text", {
                    class: "scenic-name"
                }, item.name), h("text", {
                    class: "desc"
                }, item.desc), h("text", {
                    class: "comment"
                }, item.comment + '评论')), h("div", {
                    class: "price-distance c-flex"
                }, h("text", {
                    class: "price"
                }, '￥' + item.price), h("text", {
                    class: "distance"
                }, item.distance + 'km'))));
            }, this));
        }, this)));;
    },
    classUid: "c3147"
}, {});
P.config = {
    backgroundColor: '#000000',
    navigationBarBackgroundColor: '#1890ff',
    navigationBarTitleText: '景点门票',
    navigationBarTextStyle: 'white'
};
P = React.registerPage(P, "pages/platform/scenic/index");
export default P;
</script>
<style>
.col {
  display: flex;
  flex-direction: column;
}

.row {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
}

.scenic {
  flex-direction: column;
  display: flex;
  width: 100%;
}
.scenic .input-wrapper {
  width: 100%;
  background-color: #1890ff;
  padding: 20px 0;
  padding-bottom: 35px;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
}
.scenic .input-wrapper .input {
  flex-grow: 1;
  background-color: #ffffff;
  margin-left: 20px;
  margin-right: 20px;
}
.scenic .input-wrapper .n-input {
  height: 60px;
  font-size: 22px;
  padding-left: 30px;
}
.scenic .scenic-content .scenic-content-item {
  background-color: #ffffff;
  margin-bottom: 30px;
}
.scenic .scenic-content .title-wrapper {
  padding: 15px 20px;
  font-size: 0;
}
.scenic .scenic-content .title-wrapper .mark {
  border-left-width: 4px;
  border-style: solid;
  border-left-color: #1890ff;
  height: 20px;
  margin-right: 20px;
}
.scenic .scenic-content .title-wrapper .title {
  font-size: 25px;
}
.scenic .scenic-content .scenic-item {
  font-size: 0;
  padding: 15px 20px;
  background-color: #fff;
  border-top-width: 2px;
  border-style: solid;
  border-top-color: #eee;
  display: flex;
}
.scenic .scenic-content .scenic-item .left-content {
  width: 200px;
  height: 200px;
}
.scenic .scenic-content .scenic-item .right-content {
  height: 200px;
  width: 490px;
  margin-left: 20px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.scenic .scenic-content .scenic-item .right-content .scenic-name {
  font-size: 30px;
  margin-bottom: 15px;
}
.scenic .scenic-content .scenic-item .right-content .desc {
  font-size: 22px;
  margin-bottom: 10px;
}
.scenic .scenic-content .scenic-item .right-content .comment {
  font-size: 20px;
}
.scenic .scenic-content .scenic-item .right-content .price-distance {
  justify-content: space-between;
  align-items: center;
}
.scenic .scenic-content .scenic-item .right-content .price-distance .price {
  font-size: 28px;
  color: #faab44;
}
.scenic .scenic-content .scenic-item .right-content .price-distance .distance {
  font-size: 22px;
  color: #e4e3e3;
}
</style>